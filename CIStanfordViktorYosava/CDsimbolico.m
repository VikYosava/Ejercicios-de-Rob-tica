clear all

syms d1 d2 d6 q1 q2 d3 q4 q5 q6 real

Q=[q1 q2 d3 q4 q5 q6];
s=sin(Q);c=cos(Q);

T01=[c(1) 0 s(1) 0; s(1) 0 -c(1) 0; 0 1 0 d1;0 0 0 1];
T12=[c(2) 0 -s(2) 0; s(2) 0  c(2) 0; 0 -1 0 d2;0 0 0 1];
T23=[1 0 0 0; 0 1 0 0; 0 0 1 Q(3); 0 0 0 1];
T34=[c(4) 0 s(4) 0; s(4) 0 -c(4) 0;0 1 0 0;0 0 0 1];
T45=[c(5) 0 -s(5) 0; s(5) 0 c(5) 0; 0 -1 0 0;0 0 0 1];
T56=[c(6) -s(6) 0 0;s(6) c(6) 0 0; 0 0 1 d6;0 0 0 1];

T03=simplify(T01*T12*T23);
M=simplify(T03(1,4)^2+T03(2,4)^2+(T03(3,4)-d1)^2);


T36=simplify(T34*T45*T56);
R36=T36(1:3,1:3)

simplify(R36(3,1)^2+R36(3,2)^2)
